"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4949],{75929:function(e,t,l){var i=l(5152),s=l.n(i);t.Z=s()(()=>l.e(4950).then(l.bind(l,54950)),{loadableGenerated:{webpack:()=>[54950]}}),s()(()=>l.e(4950).then(l.bind(l,54950)).then(e=>e.StyledNoResults),{loadableGenerated:{webpack:()=>[54950]}})},24949:function(e,t,l){l.r(t),l.d(t,{default:function(){return ee}});var i=l(85893),s=l(93967),n=l.n(s),a=l(67294),o=l(91541),r=l(63691),d=l(58884),c=l(97358),u=l(85422),h=l(70694),g=l(98912),p=l(18477),v=l(28668),m=l(70965),y=l(7071),f=l(50934),x=l(10743),_=l(75929),Z=l(75097),b=l(53955),j=l(45697),S=l.n(j),w=l(10508),M=l(41145),C=l(68365),N=l(43846);let k=(0,w.ZP)(x.Z).attrs({as:"a",$family:"medium",$fontSize:"14px"}).withConfig({componentId:"sc-f722b67c-0"})(["cursor:pointer;margin-top:8px;"]),E=w.ZP.div.withConfig({componentId:"sc-f722b67c-1"})(["display:flex;margin-top:40px;margin-bottom:12px;max-width:100%;width:100%;.image-wrapper{height:80px;background:",";margin-right:16px;img{max-width:100%;}}","{display:flex;flex-direction:column;align-self:center;font-size:18px;","{font-size:17px;}","{font-size:16px;}}","{margin-top:12px;align-self:flex-start;font-size:14px;}"],(0,M.rS)("palette.imageTeaser.placeholder"),x.Z,C.PJ,C.Mq,k),O=e=>{let{imageSrc:t,imageAlt:l,width:s,...n}=e;return(0,i.jsxs)(E,{...n,children:[(0,i.jsx)("div",{className:"image-wrapper",children:t&&(0,i.jsx)("img",{alt:l,src:t,height:"80",width:s})}),(0,i.jsxs)(x.Z,{$family:"base",children:[(0,i.jsx)(N.cC,{i18nKey:"similarimage-001",children:"Similar images"}),(0,i.jsx)(k,{onClick:e=>{e.preventDefault(),window.history.back()},children:(0,i.jsx)(N.cC,{i18nKey:"similarimage-002",children:"Back"})})]})]})};O.propTypes={imageAlt:S().string.isRequired,imageSrc:S().string.isRequired};var A=l(29761),T=l(1112),G=l(59908),I=l(58719),R=l(62767),F=l(20213),z=l(35033),P=l(66753),B=l(88719),$=l(57720),K=l(55623),q=l(820),D=l(7517),W=l(68955),U=l(58280),Y=l(34255),H=l(14749),L=l(49785),Q=l(19442),V=l(14484),J=l(96165);let X=e=>{let{storyId:t,isStoryMode:l}=e;return(0,i.jsxs)("div",{className:n()("storyboard-links",{"story-mode":l}),children:[(0,i.jsx)(y.Z,{className:n()({selected:!l}),extra:"".concat(W.Z.COMMON.SORT,"=curated&").concat(W.Z.COMMON.PAGE,"=1&mode=shop"),children:(0,i.jsx)(N.cC,{i18nKey:"searchpagecontent-001",children:"All"})}),(0,i.jsx)(y.Z,{className:n()({selected:l}),extra:"mode=story&".concat(W.Z.WEB.STORY,"=").concat(t,"&").concat(W.Z.COMMON.SORT,"=curated&").concat(W.Z.COMMON.PAGE,"=1"),children:(0,i.jsx)(N.cC,{i18nKey:"searchpagecontent-002",children:"Storyboard"})})]})};var ee=e=>{var t,l,s,n,j,S,w,M,C,N;let{user:k,userIsFetched:E,darkTheme:ee,searchQueries:et,searchTerm:el,topicEntity:ei,topicEntityIsFetched:es,topicEntityIsLoading:en,feed:ea,isStoryMode:eo,hasSimilarImage:er,similarImageQuery:ed,seoLoaded:ec,blurb:eu,blurbTitlePart:eh,setShowSearchDrawer:eg,showSearchDrawer:ep,setMobileFiltering:ev,setMobileFilterCount:em,hasMobileLinks:ey,isBoostPage:ef,handleBoostSearch:ex,sidebarState:e_,searchTermIsSpam:eZ=!1,showcasedImages:eb,showcasedImagesLoading:ej=!1,isDesktop:eS,hasHydrated:ew}=e,{queries:eM}=(0,K.Z)(),{showRawpixelTeam:eC}=(0,J.ZP)(),eN=(0,z.I8)(),ek=(0,V.EC)(),[eE,eO]=(0,a.useState)(!0),{data:eA=B.CH,isSuccess:eT}=ea,eG=ea.isPending||ej;(0,a.useEffect)(()=>{!eG&&k&&ek.isReady&&eO(!1)},[eG,k,ek.isReady]);let{data:eI,isSuccess:eR}=(0,P.r)(parseInt(et[W.Z.WEB.STORY],10),eo),eF=(null===(l=ed.data)||void 0===l?void 0:null===(t=l.results)||void 0===t?void 0:t.length)&&(null===(s=ed.data.results[0])||void 0===s?void 0:s.id)?null===(n=ed.data)||void 0===n?void 0:n.results[0]:null,ez=er&&(null==eF?void 0:eF.metadata)?null==eF?void 0:eF.metadata.description:"",eP=er&&eF?Math.round((null==eF?void 0:eF.display_image_width)/(null==eF?void 0:eF.display_image_height)*80):0,eB=er&&eF?eP>400?(0,H._N)(eF,500):eP>300?(0,H._N)(eF,400):eP>200?(0,H._N)(eF,300):(0,H._N)(eF,200):void 0,{results:e$,total:eK,rpa:eq={},pinterest_totals:eD}=eA||{},{page:eW,totalPages:eU,pageSize:eY}=(0,a.useMemo)(()=>(0,U.zo)(et,eA),[eA,et]),eH=(null==eD?void 0:eD.user_remaining)||0,eL=(null==eA?void 0:eA.spellcheck_result)&&!!eA.spellcheck_result.suggested_key,eQ=!!ei&&(0,Y.u)(ei),[eV,eJ]=(0,a.useState)(!1),[eX,e0]=(0,a.useState)(!0),e1=(0,a.useCallback)(e=>{!0===e||!1===e?eJ(e):eJ(e=>!e)},[]),e5=a.useMemo(()=>{let{isActiveEntityFetching:e}=e_;return!e},[e_]),e9=eS||!ew;(0,a.useEffect)(()=>{(0,m.Q5)()},[eV,e9]),(0,a.useEffect)(()=>{ew&&eX&&E&&e0(!1)},[eM.topic_group,eM.topic,eX,ew,ei,E]);let e4=eT||eR,e8=(0,a.useMemo)(()=>{var e;return ew&&((null==el?void 0:el.length)||(null==eq?void 0:null===(e=eq.image)||void 0===e?void 0:e.length))?(0,Q.x)(JSON.stringify({keys:el||"",sortedKeys:(null==eq?void 0:eq.image)||""})):null},[el,null==eq?void 0:eq.image,ew]),e2=ec&&!ei&&!er,e7=(0,a.useCallback)(()=>eg(!1),[eg]),{pathQuery:e6}=e_||{},e3=(0,a.useMemo)(()=>{var e,t;return(null===(e=((null==e6?void 0:null===(t=e6.getFilters)||void 0===t?void 0:t.call(e6,"tag","tags_or","color","theme","hearted"))||[]).map(e=>e.valueArray()).flat())||void 0===e?void 0:e.length)||0},[e6]);(0,a.useEffect)(()=>{e9||(em(e3),ev(e3>0))},[e9,e3,ev,null==ei?void 0:ei.id,em]),(0,o.K)(()=>{var e;E&&k&&(null==eq?void 0:null===(e=eq.image)||void 0===e?void 0:e.length)&&eT&&eN("search",k,{keys:el&&(null==el?void 0:el.length)?eZ?eq.search:el:eq.image,total:eK,sortedKeys:eq.image,parameters:et}).then().catch()},[k,E,el,null==eq?void 0:eq.image,eT,eK,et,eZ]),(0,a.useEffect)(()=>{E&&k&&(null==ei?void 0:ei.id)&&eN("topicview",k,{topicId:ei.id,topicType:ei.entity_type,viewmode:eo?"storyboard":"search",topicTag:ei.tag}).then().catch()},[k,E,null==ei?void 0:ei.id,null==ei?void 0:ei.tag,null==ei?void 0:ei.entity_type,eo,eN]),(0,a.useEffect)(()=>{eA&&E&&eW&&e4&&eN("feed",k,{feed:"search_feed",action:"view",value:(null==eq?void 0:eq.image)||"",page:eW,total:eK||0}).then().catch()},[k,E,eq.image,eW,eA,eK,e4,eN]);let[te,tt]=a.useMemo(()=>{if(!(null==ei?void 0:ei.type)&&!(null==ei?void 0:ei.id))return[null,null];let e=(0,$.S)({widgets:ei.widgets,published:ei.published,title:ei.title,title_long:ei.title_long},null,"title");return ei.published||(e="".concat(e," (unpublished)")),[e,ei.seo_description]},[null==ei?void 0:ei.id,null==ei?void 0:ei.published,null==ei?void 0:ei.seo_description,null==ei?void 0:ei.title_long,null==ei?void 0:ei.title,null==ei?void 0:ei.type,null==ei?void 0:ei.widgets]),tl=(0,a.useMemo)(()=>{if(ef||!(null==ei?void 0:ei.type))return!1;if("topic_group"===ei.type&&ei.show_new_button)return!0;if("topic"===ei.type){var e;let t=new L.Z(eM.path).getLastOfType("group");if((null==t?void 0:t.id)&&(null===(e=ei.widgets[t.id])||void 0===e?void 0:e.show_new_button))return!0}return!1},[ef,null==ei?void 0:ei.type,null==ei?void 0:ei.show_new_button,null==ei?void 0:ei.widgets,eM.path]),ti=(0,a.useMemo)(()=>{if(!ew||!E||!ek.isReady||en)return{visibility:"hidden"}},[ew,en,E,ek.isReady]),ts=(0,a.useMemo)(()=>{if(!E||!ek.isReady||!ew||en||eG&&(eE||tl))return{visibility:"hidden"}},[ew,E,en,eG,eE,tl,ek.isReady]);return(0,i.jsxs)(i.Fragment,{children:[ey&&!ef&&E&&ek.isReady&&!e9&&!ei&&!en&&(0,i.jsx)(p.Z,{}),(0,i.jsxs)("div",{className:"search-content",children:[(0,i.jsxs)(b.N4,{className:"results",style:ti,children:[(0,i.jsx)(h.Z,{searchEntity:ei,className:"search-wrapper",type:"elements_designs",onImageSearch:ef?ex:null}),!eZ&&!eL&&!ei&&!en&&!ef&&!e9&&(null==el?void 0:el.length)>0&&(0,i.jsxs)(b.N4,{className:"mobile-seo-description",translate:"no",children:[(0,i.jsx)(x.Z,{as:"h1",$family:"medium",$capitalize:!0,$fontSize:"32px",$textAlign:"center",children:el}),(null==eu?void 0:eu.length)>0&&(0,i.jsx)(I.B,{blurbTitlePart:eh,blurb:eu})]}),ef&&(0,i.jsx)(R.Z,{}),!ef&&(!!ei||!ew||!es)&&(0,i.jsx)(u.Z,{title:te,seoDescription:tt,entity:ei,analyticsOrigin:"search_header"}),er&&!!eB&&(0,i.jsx)(O,{imageSrc:eB,imageAlt:ez,width:eP}),ew&&!!k&&eL&&(0,i.jsx)("div",{className:"spellcheck-result",translate:"no",children:(0,i.jsxs)(x.Z,{$family:"base",$fontSize:"16px",children:["No results".concat(eZ?"":' for "'.concat(eA.spellcheck_result.searched_key,'"'),". Did you mean "),(0,i.jsx)(x.Z,{as:y.Z,$family:"medium",pathname:"/create/".concat(ef?"boost":"search","/").concat(eA.spellcheck_result.suggested_key),extra:"".concat(W.Z.COMMON.SORT,"=curated&").concat(W.Z.COMMON.PAGE,"=1"),children:eA.spellcheck_result.suggested_key}),"?"]})}),!!ei&&eC&&!!(null==k?void 0:null===(j=k.access)||void 0===j?void 0:j.show_rawpixel_team)&&ew&&(0,i.jsx)(c.Z,{entity:ei}),!!ei&&(null==ei?void 0:null===(S=ei.assigned_artists)||void 0===S?void 0:S.length)>0&&(0,i.jsx)(A.Z,{className:"story-collaborators",children:ei.assigned_artists.map((e,t)=>{var l;return(0,i.jsx)(T.Z,{className:"story-collaborator",profile:e,showName:(null===(l=ei.assigned_artists)||void 0===l?void 0:l.length)===1},t)})}),!er&&(0,i.jsx)(G.Z,{topicEntity:ei,showSearchFilters:!0,defaultFilters:e5&&D._v,showSidebarCollapseButton:!0,onSidebarCollapseClick:e1,isCollapsed:eV,hasStoryView:eQ,isStoryMode:eo,storyId:null==ei?void 0:ei.story,currentTagsQuery:et[W.Z.IMAGE.TAGS]||"",queries:et,urlQueries:eM,pathname:"/".concat(ef?"boost":"search").concat((null==el?void 0:el.length)?"/".concat(encodeURIComponent(el)):"")}),eQ&&(0,i.jsx)(X,{isStoryMode:eo,storyId:null==ei?void 0:ei.story}),!eo&&(!!(null==e$?void 0:e$.length)||eG)&&(0,i.jsx)(d.Z,{entity:ei,config:ef&&v.zT||!e9&&!!ei&&v.O6||v.Vs,images:e$,showcasedImages:eb,analyticsSearchData:e8,showCreateButton:tl,style:ts}),eo&&!!eI&&(0,i.jsx)(r.Z,{story:eI,storyId:parseInt(et[W.Z.WEB.STORY],10),isSidebarCollapsed:eV,entity:ei}),e4&&!ef&&!(null==e$?void 0:e$.length)&&!eG&&(0,i.jsx)(i.Fragment,{children:et[W.Z.COMMON.FLAGGED_BY]&&(null==k?void 0:k.uid)===0?(0,i.jsx)(Z.Z,{type:"favorites-logged-out"}):(0,i.jsx)(Z.Z,{type:"image",rawSearchTerm:eZ?"":el})}),ef&&e4&&!(null==e$?void 0:e$.length)&&!eG&&(0,i.jsx)(_.Z,{type:"pinterest-boost"}),(0,i.jsxs)("div",{className:"search-footer",children:[(0,i.jsx)(f.Z,{page:eW,hideNext:eW*eY>=q.E7,pageSize:eY,disabled:eG,totalPages:eU,totalResults:ef?eH:eK,resultsSearch:eL?null==eA?void 0:null===(w=eA.spellcheck_result)||void 0===w?void 0:w.suggested_key:eZ?"":el,boost:ef&&!eG&&!!eK,pathname:"/".concat(ef?"boost":"search").concat(eL?"/".concat(encodeURIComponent(null==eA?void 0:null===(M=eA.spellcheck_result)||void 0===M?void 0:M.suggested_key)):(null==el?void 0:el.length)?"/".concat(encodeURIComponent(el)):""),style:ti}),!e9&&(!er&&!!eK&&!eG||eQ&&eo&&!!(null==eI?void 0:eI.story_items)&&(null==eI?void 0:null===(C=eI.story_items)||void 0===C?void 0:C.length)>0)&&(0,i.jsx)(G.Z,{topicEntity:ei,showSearchFilters:!1,hasStoryView:eQ,isStoryMode:eo,storyId:null==ei?void 0:ei.story,currentTagsQuery:et[W.Z.IMAGE.TAGS]||"",queries:et,pathname:"/".concat(ef?"boost":"search").concat(eL?"/".concat(encodeURIComponent(null==eA?void 0:null===(N=eA.spellcheck_result)||void 0===N?void 0:N.suggested_key)):(null==el?void 0:el.length)?"/".concat(encodeURIComponent(el)):"")}),e2&&e4&&!!eK&&!eZ&&(0,i.jsx)("div",{className:"seo-description",children:(null==eu?void 0:eu.length)>0&&(0,i.jsxs)(x.Z,{as:"h1",children:[eh&&(0,i.jsx)(x.Z,{$family:"medium",children:eh}),eu]})})]})]}),e9&&(0,i.jsx)(g.Z,{isCollapsed:eV,onCollapse:e1,sidebarState:e_,className:"search-sidebar",storyMode:eo,darkTheme:ee,pushHistory:ei}),!e9&&(0,i.jsx)(F.Z,{onClose:e7,open:ep,pathSidebarState:e_})]})]})}},57720:function(e,t,l){l.d(t,{S:function(){return g}});var i=l(85893),s=l(67294),n=l(55623),a=l(51168),o=l(274),r=l(68955),d=l(49785),c=l(29343),u=l(46499);let h=(e,t,l,i,s,n)=>({label:e,tag:t,key:l,searchOption:i,entity:s,...n}),g=function(e,t,l){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e)return"";if("search_placeholder"===i&&t&&o.uw[t])return o.uw[t];if(t){let i=Object.keys(e.widgets).map(t=>e.widgets[t]).find(e=>{let{widget_tag:l}=e;return l===t});return(null==i?void 0:i.title)||l&&e[l]||e.title_long||e.title}return l&&e[l]||e.title_long||e.title};t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",{queries:l,path:p}=(0,n.Z)(),v=p.startsWith("/create/search"),m=(0,s.useMemo)(()=>new d.Z(l[r.Z.WEB.PATH]),[l]),{filterGroups:y=[]}=(0,a.Z)(),{data:f}=(0,c.B2)(o.GP),x=(0,s.useMemo)(()=>{var e;return(null==f?void 0:null===(e=f.value)||void 0===e?void 0:e.themes)||[]},[f]),_=s.useMemo(()=>{if("header"===t)return[];let e=l[r.Z.IMAGE.TAGS]?l[r.Z.IMAGE.TAGS].split(",").filter(e=>e!==l.topic&&e!==l.topic_group):[];if(l[r.Z.WEB.PATH]){let t=[...m.getFilters("tag","tags_or","color","theme").map(e=>e.value),...m.getFilters("tags_or").map(e=>e.valueArray()).flat()];e.push(...t),m.getFilter("hearted")&&e.push(o.du)}return(l[r.Z.IMAGE.TAGS_OR]&&e.push(...l[r.Z.IMAGE.TAGS_OR].split(",")),l[r.Z.COMMON.FLAGGED_BY]&&e.push(o.du),e.length)?y.reduce((e,t)=>[...e,...t.filters],[]).map(t=>{if("sizes"===t.tag){let t=u.Z.find(t=>e.includes(t.tag));if(t)return{...t,published:!0}}return t}).filter(t=>t.published&&(e.includes(t.tag)||"sizes"===t.tag&&u.Z.some(t=>e.includes(t.tag)))):[]},[y,l,t,m]);return s.useMemo(()=>{let s=[];if(e){let t=g(e,null,null,"search_placeholder");s.push(h(t,e.tag,"".concat(e.type,"-").concat(e.tag),v?1:0,e))}_.length&&_.forEach(e=>{s.push(h(e.name,e.tag,"".concat(e.name,"-").concat(e.tag),v?1:0,null,{filter:!0}))});let n=l[r.Z.IMAGE.TAGS]?l[r.Z.IMAGE.TAGS].split(",").filter(e=>e!==l.topic&&e!==l.topic_group):[];if("header"!==t){var a;let e=l[r.Z.IMAGE.COLOR]||(null===(a=m.getFilter("color"))||void 0===a?void 0:a.value);if(null==e?void 0:e.length)s.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:e}}),"Color"]}),null,"colorTag-"+e.replace("#",""),v?1:0,null,{filter:!0}));else if(x.length>0&&(null==n?void 0:n.length)>0&&x.some(e=>n.includes(e.tag))){let e=x.find(e=>n.includes(e.tag)),t=e.icon_url;(null==t?void 0:t.length)&&s.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(t,")")}}),"Color"]}),e.tag,"theme-color-".concat(t,"-").concat(e.tag),0,null,{filter:!0}))}else if(m.getFilter("theme")){let e=m.getFilter("theme"),t=x.find(t=>t.tag===e.value).icon_url;(null==t?void 0:t.length)&&s.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(t,")")}}),"Color"]}),e.value,"theme-color-".concat(t,"-").concat(e.value),0,null,{filter:!0}))}}return{placeholders:{},searchTags:s.filter((e,t,l)=>{if(l.findIndex(t=>t.tag===e.tag)===t)return!0}).slice(0,20)}},[e,_,l,t,v,m,x])}}}]);